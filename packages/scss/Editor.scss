@import '_mixin';

@mixin word-break {
	overflow-wrap: break-word;
	word-wrap: break-word;
}

@mixin firefox {
	@supports not (-moz-appearance: none) {
		* {
			@include margin(rem, 0.75, $bottom: 0.75);
			@include height($line: 1.4);
			word-wrap: break-word;
		}
	}
}

@mixin tag-styles {
	code {
		@include padding(rem, $right: 0.2, $left: 0.2);
		background-color: #dee2e6;
	}

	table {
		@include all-margin(auto auto);
		border-collapse: collapse;

		[data-selected] {
			background-color: rgba(116, 195, 255, 0.7);
		}

		td,
		th {
			@include width($min: 2rem);
		}
	}

	figure {
		@include margin($left: 0, $right: 0);
		@include position(relative);

		&[data-focused] {
			table {
				@include position(relative);
			}

			[data-movable] {
				@include position(absolute, -1rem, 0);
				@include all-border(rgba(116, 195, 255, 0.7) !important, 3px);
				@include all-margin(0px);
				@include square(calc(1rem - 6px));
				@include height($line: 0);
				cursor: move;

				svg {
					@include all-margin(0px);
					@include square(calc(1rem - 6px));
				}
			}
		}
	}

	[contenteditable='true'] {
		outline: none;
	}
}

##{getClassName(editor-body)} {
	@include firefox;
	@include all-margin(1rem);
	@include word-break;
	@include tag-styles;
}

.#{getClassName(inline)} {
	@include all-border(getVar(editor-border));
	background-color: getVar(editor-bg);

	##{getClassName(editor-body)} {
		@include firefox;
		@include all-margin(0.75rem);
		@include height($line: 1.4);
		@include word-break;
		@include tag-styles;
	}
}
